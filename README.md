# ğŸŒ¸ GURU2_floripedia

> **Identify plants with a snap, discover their hidden stories, and find the perfect match for your emotions.**  
> ì‚¬ì§„ í•œ ì¥ìœ¼ë¡œ ì°¾ëŠ” ì‹ë¬¼ì˜ ëª¨ë“  ê²ƒ: ì´ë¦„ë¶€í„° ìˆ¨ê²¨ì§„ ì´ì•¼ê¸°, ë‹¹ì‹ ì—ê²Œ ê¼­ ë§ëŠ” ì¶”ì²œê¹Œì§€.

FloripediaëŠ” AI ê¸°ë°˜ ì‹ë¬¼ ì‹ë³„, ê°ì„± ì¶”ì²œ, ê·¸ë¦¬ê³  í’ë¶€í•œ ì‹ë¬¼ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” í†µí•© í”Œë«í¼ì…ë‹ˆë‹¤.

---

## ğŸ“‘ ëª©ì°¨

- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
- [í…ŒìŠ¤íŠ¸](#-í…ŒìŠ¤íŠ¸)

---

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

### ğŸ” AI ê¸°ë°˜ ì‹ë¬¼ ê²€ìƒ‰

#### 1. ì´ë¯¸ì§€ ê²€ìƒ‰ (Vision Search)
- **Gemini Vision API** ë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ì‹ë¬¼ ì‹ë³„
- ì‚¬ì§„ í•œ ì¥ìœ¼ë¡œ ì‹ë¬¼ì˜ í•œê¸€ëª…, ì˜ë¬¸ëª…, í•™ëª… ìë™ ì¸ì‹
- **3ë‹¨ê³„ ë§¤ì¹­ ì „ëµ**: í•™ëª… ì •í™• â†’ ì´ë¦„ ì •í™• â†’ í•™ëª… í¼ì§€(ì† ê¸°ì¤€)
- ì‚¬ì „ íë ˆì´ì…˜ëœ DB ê¸°ë°˜ì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‹ë¬¼ ì •ë³´ ì œê³µ

#### 2. í…ìŠ¤íŠ¸ ê¸°ë°˜ ì¶”ì²œ (Emotion-Based Recommendation)
- ì‚¬ìš©ì ìƒí™©/ê°ì • ì…ë ¥ ì‹œ **AIê°€ ë§ì¶¤í˜• ì‹ë¬¼ ì¶”ì²œ**
- Geminiê°€ ìƒí™©ì— ë§ëŠ” ê°ì„± ì—ì„¸ì´ ìë™ ìƒì„±
- ì˜ˆì‹œ: "ì¹œêµ¬ì™€ í™”í•´í•˜ê³  ì‹¶ì–´ìš”" â†’ "ë¬¼ë§ì´ˆ" ì¶”ì²œ + ê°ë™ì ì¸ ì¶”ì²œ ì—ì„¸ì´

### ğŸŒ¿ ì‹ë¬¼ ì •ë³´ íƒìƒ‰

#### ë‹¤ì¸µ í•„í„°ë§ ì‹œìŠ¤í…œ
- **ê³„ì ˆë³„ ê²€ìƒ‰** (ë´„, ì—¬ë¦„, ê°€ì„, ê²¨ìš¸)
- **ê°œí™” ì›”ë³„ ê²€ìƒ‰** (1~12ì›”)
- **4ëŒ€ ì¹´í…Œê³ ë¦¬ ê·¸ë£¹**
  - ê½ƒê³¼ í’€
  - ë‚˜ë¬´ì™€ ì¡°ê²½
  - ì‹¤ë‚´ ì¸í…Œë¦¬ì–´
  - í…ƒë°­ê³¼ ì •ì›
- **5ê°€ì§€ ìƒ‰ìƒ ê·¸ë£¹**
  - ë°±ìƒ‰/ë¯¸ìƒ‰, ë…¸ë‘/ì£¼í™©, ë¹¨ê°•/ë¶„í™, í‘¸ë¥¸ìƒ‰, ê°ˆìƒ‰/ê²€ì •
- **4ê°€ì§€ í–¥ê¸° ê·¸ë£¹**
  - ë‹¬ì½¤Â·í™”ì‚¬, ì‹±ê·¸ëŸ¬ìš´Â·ì‹œì›, ì€ì€Â·ì°¨ë¶„, ë¬´í–¥
- **5ê°€ì§€ ê½ƒë§ ê°ì„± ê·¸ë£¹**
  - ì‚¬ë‘/ê³ ë°±, ìœ„ë¡œ/ìŠ¬í””, ê°ì‚¬/ì¡´ê²½, ì´ë³„/ê·¸ë¦¬ì›€, í–‰ë³µ/ì¦ê±°ì›€
- **ìŠ¤í† ë¦¬ ì¥ë¥´ë³„ íƒìƒ‰**
  - ì‹ í™”/ì „ì„¤, ê³¼í•™, ì—­ì‚¬, ì˜ˆìˆ , ì—í”¼ì†Œë“œ

#### ìƒì„¸ ì •ë³´ ì œê³µ
- ğŸ·ï¸ **ê¸°ë³¸ ì •ë³´**: í•™ëª…, ê³¼ëª…, ì›ì‚°ì§€, ìƒìœ¡ í™˜ê²½
- ğŸŒˆ **ìƒ‰ìƒ ì •ë³´**: HEX ì½”ë“œ, ìƒ‰ìƒ ë¼ë²¨, ìƒ‰ìƒ ê·¸ë£¹
- ğŸŒº **ê½ƒë§ & ê°ì„± ê·¸ë£¹**: ê½ƒë§ ì˜ë¯¸ì™€ ê°ì„± ë¶„ë¥˜
- ğŸ“– **ìŠ¤í† ë¦¬ ì»¬ë ‰ì…˜**: ì‹ í™”, ì—­ì‚¬, ì˜ˆìˆ  ë“± ë‹¤ì–‘í•œ ì´ì•¼ê¸°
- ğŸŒ± **ì›ì˜ˆ ì •ë³´**: ê´€ë¦¬ë²•, ìš©ë„, ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜
- ğŸ‘ƒ **í–¥ê¸° ì •ë³´**: í–¥ê¸° íƒœê·¸ì™€ í–¥ê¸° ê·¸ë£¹

### ğŸ’– ì‚¬ìš©ì ê¸°ëŠ¥

- **ê½ƒê°ˆí”¼ (ì°œí•˜ê¸°)**: ë§ˆìŒì— ë“œëŠ” ì‹ë¬¼ ì €ì¥
- **ë§ˆì´í˜ì´ì§€**: í”„ë¡œí•„ ê´€ë¦¬, ì°œí•œ ì‹ë¬¼ ëª©ë¡ ì¡°íšŒ
- **Firebase ì¸ì¦**: Google/Email ì†Œì…œ ë¡œê·¸ì¸
- **í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ**: Firebase Storage ì—°ë™

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **í”„ë ˆì„ì›Œí¬**: FastAPI 0.115.0
- **ë°ì´í„°ë² ì´ìŠ¤**: MongoDB (Motor 3.6.0)
- **AI/ML**: Google Gemini 2.5 Flash Lite (google-generativeai 0.8.6)
- **ì¸ì¦**: Firebase Admin SDK 6.5.0
- **ì´ë¯¸ì§€ ì²˜ë¦¬**: Pillow 10.4.0
- **HTTP í´ë¼ì´ì–¸íŠ¸**: httpx 0.27.2
- **ê²€ìƒ‰ ê·¸ë¼ìš´ë”©**: Google Search Tool (Gemini)

### Android
- **ì–¸ì–´**: Kotlin
- **HTTP í´ë¼ì´ì–¸íŠ¸**: Retrofit2
- **ì´ë¯¸ì§€ ë¡œë”©**: Coil
- **ì¸ì¦**: Firebase SDK

### Infrastructure
- **í´ë¼ìš°ë“œ ì €ì¥ì†Œ**: Firebase Storage
- **ì»¨í…Œì´ë„ˆ**: Docker
- **ASGI ì„œë²„**: Uvicorn 0.32.0

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
GURU2_floripedia/
â”œâ”€â”€ android-app/                    # Android ì•±
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ src/main/java/com/example/plant/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                # UI ë ˆì´ì–´ (Activities, Fragments, Adapters)
â”‚   â”‚   â”‚   â”œâ”€â”€ data/              # ë°ì´í„° ë ˆì´ì–´ (Repository, API, Models)
â”‚   â”‚   â”‚   â”œâ”€â”€ util/              # ìœ í‹¸ë¦¬í‹° (InputValidator, ErrorHandler)
â”‚   â”‚   â”‚   â””â”€â”€ di/                # ì˜ì¡´ì„± ì£¼ì…
â”‚   â”‚   â”œâ”€â”€ src/main/res/          # ë¦¬ì†ŒìŠ¤ (layout, drawable, values)
â”‚   â”‚   â””â”€â”€ src/test/              # Unit Tests (49ê°œ)
â”‚   â””â”€â”€ build.gradle
â”‚
â”œâ”€â”€ backend/                        # FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py                # ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/v1/                # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ endpoints/
â”‚   â”‚   â”‚       â”œâ”€â”€ auth.py        # ì¸ì¦ (ë¡œê·¸ì¸/íšŒì›ê°€ì…)
â”‚   â”‚   â”‚       â”œâ”€â”€ users.py       # ìœ ì € í”„ë¡œí•„ ê´€ë¦¬
â”‚   â”‚   â”‚       â”œâ”€â”€ plants.py      # ì‹ë¬¼ ê²€ìƒ‰/ì¡°íšŒ/í•„í„°ë§
â”‚   â”‚   â”‚       â””â”€â”€ deps.py        # ì˜ì¡´ì„± ì£¼ì…
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ gemini_service.py  # Gemini AI í†µí•©
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_service.py    # Firebase ì¸ì¦
â”‚   â”‚   â”‚   â”œâ”€â”€ user_service.py    # ìœ ì € ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ plant_service.py   # ì‹ë¬¼ ê²€ìƒ‰/ìƒì„±/ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ firebase_service.py # Firebase Storage ì—°ë™
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ repositories/          # ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
â”‚   â”‚   â”‚   â”œâ”€â”€ user_repository.py
â”‚   â”‚   â”‚   â””â”€â”€ plant_repository.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ schemas/               # Pydantic ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â””â”€â”€ plant.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ models/                # MongoDB ëª¨ë¸
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â””â”€â”€ plant.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ core/                  # í•µì‹¬ ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py          # í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ security.py        # JWT í† í° ê´€ë¦¬
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ db/                    # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
â”‚   â”‚       â”œâ”€â”€ session.py         # MongoDB ì—°ê²°
â”‚   â”‚       â””â”€â”€ firebase.py        # Firebase ì´ˆê¸°í™”
â”‚   â”‚
â”‚   â”œâ”€â”€ scripts/                   # ë°ì´í„° ì „ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â”œâ”€â”€ augmentation/
â”‚   â”‚   â”‚   â””â”€â”€ build_data.py      # ë°ì´í„° ì¦ê°•
â”‚   â”‚   â”œâ”€â”€ cleaning/              # ë°ì´í„° ì •ì œ
â”‚   â”‚   â”œâ”€â”€ open_data/             # ê³µê³µ ë°ì´í„° ìˆ˜ì§‘
â”‚   â”‚   â””â”€â”€ upload_to_mongodb.py   # DB ì—…ë¡œë“œ
â”‚   â”‚
â”‚   â”œâ”€â”€ tests/                     # pytest í…ŒìŠ¤íŠ¸ (46ê°œ)
â”‚   â”œâ”€â”€ data/                      # ë°ì´í„°ì…‹
â”‚   â””â”€â”€ requirements.txt           # Python íŒ¨í‚¤ì§€
â”‚
â”œâ”€â”€ .env                           # í™˜ê²½ ë³€ìˆ˜ (gitignore)
â””â”€â”€ README.md
```

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Android App    â”‚
â”‚   (Kotlin)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTP/REST
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         FastAPI Backend                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   API Layer (Endpoints)            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                  â†“                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Service Layer                    â”‚ â”‚
â”‚  â”‚   - PlantService                   â”‚ â”‚
â”‚  â”‚   - GeminiService                  â”‚ â”‚
â”‚  â”‚   - AuthService                    â”‚ â”‚
â”‚  â”‚   - UserService                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                  â†“                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Repository Layer                 â”‚ â”‚
â”‚  â”‚   (Data Access)                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MongoDB â”‚         â”‚ Firebase â”‚
    â”‚ Atlas   â”‚         â”‚ Storage  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘
         â”‚ AI Processing
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Gemini API    â”‚
    â”‚ (Google AI)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹ë¬¼ ê²€ìƒ‰ í”Œë¡œìš° (ì´ë¯¸ì§€)

```
1. ì‚¬ìš©ì â†’ ì´ë¯¸ì§€ ì—…ë¡œë“œ
2. FastAPI â†’ Gemini Vision API (ì‹ë¬¼ ì‹ë³„: ì´ë¦„, í•™ëª… ì¶”ì¶œ)
3. FastAPI â†’ MongoDB ì¡°íšŒ (3ë‹¨ê³„ ë§¤ì¹­)
   â”œâ”€ 1ì°¨: í•™ëª… ì •í™• ì¼ì¹˜
   â”œâ”€ 2ì°¨: ì´ë¦„ ì •í™• ì¼ì¹˜
   â””â”€ 3ì°¨: í•™ëª… í¼ì§€ ë§¤ì¹­ (ì† ê¸°ì¤€)
4. FastAPI â†’ ì‚¬ìš©ì (ì‹ë¬¼ ì •ë³´ ë°˜í™˜ ë˜ëŠ” 404)
```

### í•™ëª… ë§¤ì¹­ ì „ëµ

```
Gemini ë°˜í™˜ê°’: { name: "ì¥ë¯¸", scientificName: "Rosa rugosa" }
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  3ë‹¨ê³„ DB ì¡°íšŒ       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
    1ì°¨: scientificName = "Rosa rugosa" (ì •í™• ì¼ì¹˜)
                    â†’ ì—†ìŒ
                              â†“
    2ì°¨: name = "ì¥ë¯¸" (ì •í™• ì¼ì¹˜)
                    â†’ ì—†ìŒ
                              â†“
    3ì°¨: scientificName LIKE "Rosa%" (ì† ê¸°ì¤€ í¼ì§€ ë§¤ì¹­)
                    â†’ "Rosa canina" ë°œê²¬!
                              â†“
                      ê²°ê³¼ ë°˜í™˜
```

> **DB-only ëª¨ë“œ**: ëª¨ë“  ì‹ë¬¼ ë°ì´í„°ëŠ” ì‚¬ì „ íë ˆì´ì…˜ëœ DBì—ì„œë§Œ ì¡°íšŒë©ë‹ˆë‹¤.
> DBì— ì—†ëŠ” ì‹ë¬¼ì€ 404 ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤.

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- **Python** 3.11+
- **Android Studio** otter
- **MongoDB Atlas** ê³„ì •
- **Firebase** í”„ë¡œì íŠ¸
- **Google Gemini API** í‚¤

### í™˜ê²½ ì„¤ì •

1. **ë ˆí¬ì§€í† ë¦¬ í´ë¡ **
```bash
git clone https://github.com/your-username/GURU2_floripedia.git
cd GURU2_floripedia
```

2. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

`.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš”:

```env
# MongoDB
MONGO_URI=<your-mongodb-uri>

# Gemini API
GEMINI_API_KEY=<your-gemini-api-key>

# Firebase
FIREBASE_STORAGE_BUCKET=<your-bucket>.appspot.com
```

3. **Firebase ì„¤ì •**

`serviceAccountKey.json` íŒŒì¼ì„ `backend/app/` ë””ë ‰í† ë¦¬ì— ì¶”ê°€í•˜ì„¸ìš”.

### Backend ì‹¤í–‰

#### ë°©ë²• 1: ë¡œì»¬ ì‹¤í–‰

```bash
cd backend
pip install -r requirements.txt
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

#### ë°©ë²• 2: AWS ì„œë²„ ì ‘ì†

`RetrofitClient.kt`ì˜ `BASE_URL`ì´ ë°°í¬ ì„œë²„ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ì„¤ì • í›„ Android Studioì—ì„œ ë¹Œë“œ & ì‹¤í–‰.
```

**API ë¬¸ì„œ í™•ì¸**: http://localhost:8000/docs

### Android ì•± ì‹¤í–‰

1. Android Studioì—ì„œ `android-app` í´ë”ë¥¼ ì—½ë‹ˆë‹¤
2. `google-services.json` íŒŒì¼ì„ `android-app/app/` ë””ë ‰í† ë¦¬ì— ì¶”ê°€
3. `RetrofitClient.kt`ì—ì„œ `BASE_URL`ì„ ì„œë²„ ì£¼ì†Œë¡œ ë³€ê²½
4. í”„ë¡œì íŠ¸ ë¹Œë“œ & ì‹¤í–‰

---

## ğŸ“¡ API ë¬¸ì„œ

### Base URL
```
http://localhost:8000/api/v1
```

### ì¸ì¦ (Authentication)

#### POST `/auth/login`
Firebase ID Token ê¸°ë°˜ ë¡œê·¸ì¸/ìë™ íšŒì›ê°€ì…

**Request Body:**
```json
{
  "idToken": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**Response:**
```json
{
  "id": "user_id",
  "email": "user@example.com",
  "displayName": "ì‚¬ìš©ì",
  "profileImageUrl": "https://...",
  "createdAt": "2024-01-01T00:00:00"
}
```

#### GET `/auth/check-email?email={email}`
ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸

---

### ì‹ë¬¼ ê²€ìƒ‰ (Plants)

#### POST `/plants/search/image`
ì´ë¯¸ì§€ ê¸°ë°˜ ì‹ë¬¼ ê²€ìƒ‰ (Vision Search)

**Request:**
- Content-Type: `multipart/form-data`
- Body: `file` (ì´ë¯¸ì§€ íŒŒì¼)
- Header: `Authorization: Bearer {firebase_token}` (ì„ íƒ)

**Response:**
```json
{
  "id": "plant_id",
  "name": "ì¥ë¯¸",
  "englishName": "Rose",
  "scientificName": "Rosa hybrida",
  "imageUrl": "https://...",
  "images": ["url1", "url2", "url3"],
  "isNewlyCreated": true,
  "isFavorite": false,
  "taxonomy": {
    "genus": "Rosa",
    "species": "hybrida",
    "family": "ì¥ë¯¸ê³¼"
  },
  "flowerInfo": {
    "language": "ì‚¬ë‘",
    "flowerGroup": "ì‚¬ë‘/ê³ ë°±"
  },
  "colorInfo": {
    "hexCodes": ["#FF0000"],
    "colorLabels": ["ë¹¨ê°•"],
    "colorGroup": ["ë¹¨ê°•/ë¶„í™"]
  },
  "scentInfo": {
    "scentTags": ["ë‹¬ì½¤í•œ", "í–¥ê¸‹í•œ"],
    "scentGroup": ["ë‹¬ì½¤Â·í™”ì‚¬"]
  },
  "horticulture": {
    "category": "ê´€ëª©",
    "categoryGroup": "ë‚˜ë¬´ì™€ ì¡°ê²½",
    "usage": ["ê´€ìƒìš©"],
    "management": "í–‡ë¹›ì„ ì¢‹ì•„í•˜ë©°...",
    "preContent": "ì¥ë¯¸ëŠ”..."
  },
  "stories": [
    {
      "genre": "MYTH",
      "content": "ê·¸ë¦¬ìŠ¤ ì‹ í™”ì—ì„œ..."
    }
  ],
  "season": "SPRING",
  "bloomingMonths": [4, 5, 6],
  "habitat": "ì˜¨ëŒ€ ê¸°í›„",
  "searchKeywords": ["ì¥ë¯¸", "Rose", "ë¡œì¦ˆ"],
  "viewCount": 0,
  "favoriteCount": 0
}
```

#### POST `/plants/recommend?situation={text}`
ìƒí™© ê¸°ë°˜ ì‹ë¬¼ ì¶”ì²œ + ê°ì„± ì—ì„¸ì´

**Query Parameter:**
- `situation`: "ì¹œêµ¬ì—ê²Œ ì‚¬ê³¼í•˜ê³  ì‹¶ì–´ìš”"

**Response:**
```json
{
  "id": "plant_id",
  "name": "ë¬¼ë§ì´ˆ",
  "recommendation": "ì¹œêµ¬ì™€ì˜ ì†Œì¤‘í•œ ì¸ì—°ì„ ë˜ìƒˆê¸°ê²Œ í•˜ëŠ” ë¬¼ë§ì´ˆë¥¼ ì¶”ì²œë“œë¦½ë‹ˆë‹¤...",
  ... (ì‹ë¬¼ ì •ë³´)
}
```

#### GET `/plants`
ì‹ë¬¼ ëª©ë¡ ì¡°íšŒ (í•„í„°ë§ + í˜ì´ì§€ë„¤ì´ì…˜)

**Query Parameters:**
- `season`: SPRING | SUMMER | FALL | WINTER
- `blooming_month`: 1-12
- `category_group`: ê½ƒê³¼ í’€ | ë‚˜ë¬´ì™€ ì¡°ê²½ | ì‹¤ë‚´ ì¸í…Œë¦¬ì–´ | í…ƒë°­ê³¼ ì •ì›
- `color_group`: ë°±ìƒ‰/ë¯¸ìƒ‰ | ë…¸ë‘/ì£¼í™© | ë¹¨ê°•/ë¶„í™ | í‘¸ë¥¸ìƒ‰ | ê°ˆìƒ‰/ê²€ì •
- `scent_group`: ë‹¬ì½¤Â·í™”ì‚¬ | ì‹±ê·¸ëŸ¬ìš´Â·ì‹œì› | ì€ì€Â·ì°¨ë¶„ | ë¬´í–¥
- `flower_group`: ì‚¬ë‘/ê³ ë°± | ìœ„ë¡œ/ìŠ¬í”” | ê°ì‚¬/ì¡´ê²½ | ì´ë³„/ê·¸ë¦¬ì›€ | í–‰ë³µ/ì¦ê±°ì›€
- `story_genre`: MYTH | SCIENCE | HISTORY | ART | EPISODE
- `keyword`: ê²€ìƒ‰ì–´
- `skip`: 0 (ê¸°ë³¸ê°’)
- `limit`: 20 (ê¸°ë³¸ê°’, ìµœëŒ€ 100)
- `sort_by`: name | viewCount | favoriteCount
- `sort_order`: asc | desc

**Response:**
```json
[
  {
    "id": "plant_id",
    "name": "ì¥ë¯¸",
    "imageUrl": "https://...",
    "flowerInfo": {
      "language": "ì‚¬ë‘",
      "flowerGroup": "ì‚¬ë‘/ê³ ë°±"
    }
  },
  ...
]
```

#### GET `/plants/count`
í•„í„° ì¡°ê±´ì— ë§ëŠ” ì‹ë¬¼ ì´ ê°œìˆ˜

**Query Parameters:** (ìœ„ì™€ ë™ì¼)

**Response:**
```json
{
  "count": 152
}
```

#### GET `/plants/{plant_id}`
ì‹ë¬¼ ìƒì„¸ ì •ë³´ ì¡°íšŒ

**Path Parameter:**
- `plant_id`: ì‹ë¬¼ ID

**Header:** (ì„ íƒ)
- `Authorization: Bearer {firebase_token}`

**Response:** (POST /plants/search/imageì™€ ë™ì¼)

#### GET `/plants/favorites`
ë‚´ ê½ƒê°ˆí”¼(ì°œ) ëª©ë¡ ì¡°íšŒ ğŸ”’ (ì¸ì¦ í•„ìˆ˜)

**Header:**
- `Authorization: Bearer {firebase_token}`

**Query Parameters:**
- `season`, `category_group`, `color_group` (í•„í„°)
- `skip`, `limit` (í˜ì´ì§€ë„¤ì´ì…˜)

---

### ì‚¬ìš©ì (Users)

#### GET `/users/me` ğŸ”’
ë‚´ í”„ë¡œí•„ ì¡°íšŒ

**Header:**
- `Authorization: Bearer {firebase_token}`

**Response:**
```json
{
  "id": "user_id",
  "email": "user@example.com",
  "displayName": "ì‚¬ìš©ì",
  "profileImageUrl": "https://...",
  "favoriteCount": 5,
  "createdAt": "2024-01-01T00:00:00"
}
```

#### PATCH `/users/me` ğŸ”’
í”„ë¡œí•„ ìˆ˜ì •

**Request Body:**
```json
{
  "displayName": "ìƒˆë¡œìš´ ë‹‰ë„¤ì„"
}
```

#### POST `/users/me/profile-image` ğŸ”’
í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ

**Request:**
- Content-Type: `multipart/form-data`
- Body: `file` (ì´ë¯¸ì§€ íŒŒì¼)

#### POST `/users/me/favorites/{plant_id}` ğŸ”’
ì‹ë¬¼ ì°œí•˜ê¸°

#### DELETE `/users/me/favorites/{plant_id}` ğŸ”’
ì‹ë¬¼ ì°œ ì·¨ì†Œ

#### DELETE `/users/me` ğŸ”’
íšŒì› íƒˆí‡´

---

### í—¬ìŠ¤ì²´í¬

#### GET `/`
API ì •ë³´

#### GET `/health`
ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸

---

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### Users Collection

```javascript
{
  _id: ObjectId,
  uid: String,              // Firebase UID (unique)
  email: String,            // ì´ë©”ì¼
  display_name: String,     // ë‹‰ë„¤ì„
  profile_image_url: String, // í”„ë¡œí•„ ì´ë¯¸ì§€
  favorites: [String],      // ì°œí•œ ì‹ë¬¼ ID ë°°ì—´
  created_at: ISODate,
  updated_at: ISODate
}
```

### Plants Collection

```javascript
{
  _id: String,              // UUID
  name: String,             // í•œê¸€ ì´ë¦„
  english_name: String,     // ì˜ë¬¸ ì´ë¦„
  scientific_name: String,  // í•™ëª… (unique)
  
  // í•™ìˆ  ì •ë³´
  taxonomy: {
    genus: String,          // ì†
    species: String,        // ì¢…
    family: String          // ê³¼
  },
  
  // ê½ƒë§ ì •ë³´
  flower_info: {
    language: String,       // ê½ƒë§
    flower_group: String    // ê°ì„± ê·¸ë£¹
  },
  
  // ìƒ‰ìƒ ì •ë³´
  color_info: {
    hex_codes: [String],    // HEX ì½”ë“œ ë°°ì—´
    color_labels: [String], // ìƒ‰ìƒ ë¼ë²¨
    color_group: [String]   // ìƒ‰ìƒ ê·¸ë£¹ (ë³µìˆ˜ ê°€ëŠ¥)
  },
  
  // í–¥ê¸° ì •ë³´
  scent_info: {
    scent_tags: [String],   // í–¥ê¸° íƒœê·¸
    scent_group: [String]   // í–¥ê¸° ê·¸ë£¹ (ë³µìˆ˜ ê°€ëŠ¥)
  },
  
  // ì›ì˜ˆ ì •ë³´
  horticulture: {
    category: String,         // ì›ì˜ˆ ë¶„ë¥˜
    category_group: String,   // 4ëŒ€ ì¹´í…Œê³ ë¦¬
    usage: [String],          // ìš©ë„
    management: String,       // ê´€ë¦¬ë²•
    pre_content: String       // ì‚¬ì „ ì„¤ëª…
  },
  
  // ìŠ¤í† ë¦¬
  stories: [
    {
      genre: String,        // MYTH, SCIENCE, HISTORY, ART, EPISODE
      content: String       // ìŠ¤í† ë¦¬ ë‚´ìš©
    }
  ],
  
  // ê¸°íƒ€
  season: String,           // SPRING, SUMMER, FALL, WINTER
  blooming_months: [Number], // ê°œí™” ì›” (1-12)
  habitat: String,          // ì„œì‹ì§€
  search_keywords: [String], // ê²€ìƒ‰ í‚¤ì›Œë“œ
  
  // ì´ë¯¸ì§€
  image_url: String,        // ëŒ€í‘œ ì´ë¯¸ì§€
  images: [String],         // ì¶”ê°€ ì´ë¯¸ì§€
  
  // í†µê³„
  view_count: Number,       // ì¡°íšŒìˆ˜
  favorite_count: Number,   // ì°œ ê°œìˆ˜
  
  created_at: ISODate
}
```

### ì¸ë±ìŠ¤

```javascript
// Users
db.users.createIndex({ "uid": 1 }, { unique: true })
db.users.createIndex({ "email": 1 })

// Plants
db.plants.createIndex({ "scientific_name": 1 }, { unique: true })
db.plants.createIndex({ "name": 1 })
db.plants.createIndex({ "season": 1 })
db.plants.createIndex({ "horticulture.category_group": 1 })
db.plants.createIndex({ "color_info.color_group": 1 })
db.plants.createIndex({ "scent_info.scent_group": 1 })
db.plants.createIndex({ "flower_info.flower_group": 1 })
db.plants.createIndex({ "search_keywords": 1 })
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

**ì´ 95ê°œ í…ŒìŠ¤íŠ¸** (Backend 46 + Android 49) â€” ì—ë®¬ë ˆì´í„°/ì„œë²„ ì—†ì´ ì „ë¶€ ë¡œì»¬ ì‹¤í–‰ ê°€ëŠ¥.

### Backend (pytest, 46ê°œ)

```bash
cd backend
pip install -r requirements-dev.txt
pytest -v
```

```
backend/tests/
â”œâ”€â”€ conftest.py                # ê³µí†µ Fixture (MongoDB Mock, Gemini Mock, TestClient)
â”œâ”€â”€ test_plant_repository.py   # Repository ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (8ê°œ)
â”œâ”€â”€ test_plant_service.py      # ì´ë¯¸ì§€ ê²€ìƒ‰ Â· ì¶”ì²œ í†µí•© í…ŒìŠ¤íŠ¸ (7ê°œ)
â”œâ”€â”€ test_user_repository.py    # User Repository í…ŒìŠ¤íŠ¸ (6ê°œ)
â”œâ”€â”€ test_services.py           # Auth Â· User Service í…ŒìŠ¤íŠ¸ (14ê°œ)
â””â”€â”€ test_api.py                # API ì—”ë“œí¬ì¸íŠ¸ E2E í…ŒìŠ¤íŠ¸ (10ê°œ)
```

| ë ˆì´ì–´ | í…ŒìŠ¤íŠ¸ íŒŒì¼ | ì£¼ìš” ê²€ì¦ |
|---|---|---|
| Repository | `test_plant_repository.py` | í•™ëª… í¼ì§€ ë§¤ì¹­, ì´ë¦„ ì¡°íšŒ, ëŒ€ì†Œë¬¸ì ë¬´ì‹œ |
| Repository | `test_user_repository.py` | ì†Œí”„íŠ¸ ì‚­ì œ, ì°œ ì¶”ê°€/ì¤‘ë³µ/ì œê±° |
| Service | `test_plant_service.py` | Gemini ì´ë¯¸ì§€ ê²€ìƒ‰, ì¶”ì²œ ì—ì„¸ì´ ìƒì„±, ì—ëŸ¬ í•¸ë“¤ë§ |
| Service | `test_services.py` | ë¡œê·¸ì¸/íšŒì›ê°€ì…, í† í° ê²€ì¦, í”„ë¡œí•„ ì´ë¯¸ì§€, ì°œ í† ê¸€ |
| API | `test_api.py` | ì‹ë¬¼ ëª©ë¡/ìƒì„¸/ê²€ìƒ‰, ì¸ì¦, í”„ë¡œí•„, íŒŒì¼ ì—…ë¡œë“œ |

### Android (JUnit + MockWebServer, 49ê°œ)

```bash
cd android-app
./gradlew testDebugUnitTest
```

```
app/src/test/java/com/example/plant/
â”œâ”€â”€ util/
â”‚   â”œâ”€â”€ InputValidatorTest.kt     # ì…ë ¥ê°’ ê²€ì¦ (20ê°œ)
â”‚   â””â”€â”€ ErrorHandlerTest.kt       # ì—ëŸ¬ ì²˜ë¦¬ (11ê°œ)
â”œâ”€â”€ data/model/
â”‚   â””â”€â”€ FilterValidatorTest.kt    # í•„í„° ê²€ì¦ (13ê°œ)
â””â”€â”€ data/api/
    â””â”€â”€ ApiParsingTest.kt         # API JSON íŒŒì‹± (5ê°œ)
```

| í…ŒìŠ¤íŠ¸ íŒŒì¼ | ì£¼ìš” ê²€ì¦ |
|---|---|
| `InputValidatorTest` | ë¹„ë°€ë²ˆí˜¸/ë‹‰ë„¤ì„/ìƒí™©/ì´ë¯¸ì§€ í¬ë§·/ì‚¬ì´ì¦ˆ/ê²€ìƒ‰ì–´ |
| `ErrorHandlerTest` | ì¸ì¦ ì—ëŸ¬ íŒë³„, ì˜ˆì™¸ë³„ ë©”ì‹œì§€ ë³€í™˜ |
| `FilterValidatorTest` | FilterTypeë³„ ìœ íš¨ê°’ ê²€ì¦, getValidValues ê°œìˆ˜ |
| `ApiParsingTest` | MockWebServerë¡œ PlantCardDto/PlantDetailDto/UserResponse/FavoriteToggleResponse íŒŒì‹±, 404 ì²˜ë¦¬ |

### Postman Collection

```
backend/postman/floripedia_api.postman_collection.json
```

Postman â†’ Import â†’ File ì„ íƒ í›„ ì‚¬ìš©. `base_url`: `http://localhost:8000`

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” êµìœ¡ ëª©ì ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ‘¥ íŒ€

GURU2 íŒ€ - ì‹ë¬¼ê³¼ AIì˜ ë§Œë‚¨

---

## ğŸ“§ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ Issuesë¥¼ í†µí•´ ë‚¨ê²¨ì£¼ì„¸ìš”.
